---
title: è¿ç§»æŒ‡å—
---

# è¿ç§»æŒ‡å—

## è¿ç§» RainbowKit

### 1.x.x ç ´åæ€§æ›´æ”¹

The [wagmi](https://wagmi.sh) and [viem](https://viem.sh) peer dependencies have reached `2.x.x` with breaking changes.

3ã€‚ 3ã€‚ è¿ç§»æä¾›å•†

**1. å°† RainbowKit å’Œ `wagmi` æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬**

```bash
npm i @rainbow-me/rainbowkit@2 wagmi@2 viem@2.x
```

**2. å®‰è£… `viem` å¯¹ç­‰ä¾èµ–é¡¹**

åœ¨ Wagmi v2 ä¸­ï¼Œ[TanStack Query](https://tanstack.com/query/v5/docs/react/overview) ç°åœ¨æ˜¯ä¸€ä¸ªå¿…éœ€çš„åŒçº§ä¾èµ–ã€‚

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
npm i @tanstack/react-query
```

**4. æ£€æŸ¥`wagmi`ä¸­çš„é‡å¤§æ›´æ”¹**

```diff
  import '@rainbow-me/rainbowkit/styles.css'

+ import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
- import { createPublicClient, http } from 'viem'
- import { WagmiConfig } from 'wagmi'
+ import { WagmiProvider, http } from 'wagmi'
- import { configureChains, createConfig } from 'wagmi'
  import { mainnet } from 'wagmi/chains'
  import { RainbowKitProvider } from '@rainbow-me/rainbowkit'
- import { getDefaultWallets, connectorsForWallets } from '@rainbow-me/rainbowkit'
+ import { getDefaultConfig } from '@rainbow-me/rainbowkit'

  /* getDefaultWallets is now optional */
- const { wallets } = getDefaultWallets({
-   appName: 'RainbowKit demo',
-   projectId: 'YOUR_PROJECT_ID',
-   chains,
- })

  /* connectorsForWallets is now optional */
- const connectors = connectorsForWallets([...wallets])

- const { chains, publicClient } = configureChains( 
-   [mainnet, sepolia], 
-   [publicProvider(), publicProvider()],
- )

- const config = createConfig({
-   autoConnect: true,
-   publicClient,
- })

  /* New API that includes Wagmi's createConfig and replaces getDefaultWallets and connectorsForWallets */
+ const config = getDefaultConfig({
+   appName: 'RainbowKit demo',
+   projectId: 'YOUR_PROJECT_ID',
+   chains: [mainnet],
+   transports: {
+     [mainnet.id]: http(),
+   },
+ })

+ const queryClient = new QueryClient()

  const App = () => {
    return (
-     <WagmiConfig config={config}>
+     <WagmiProvider config={config}>
+       <QueryClientProvider client={queryClient}>
-         <RainbowKitProvider chains={chains}>
+         <RainbowKitProvider>
            {/* Your App */}
          </RainbowKitProvider>
+       </QueryClientProvider>
-     </WagmiConfig>
+     </WagmiProvider>
    )
  }
```

2.  æ£€æŸ¥ `wagmi`ä¸­çš„ç ´åæ€§æ›´æ”¹

wagmi v1 éœ€è¦ `viem` å¯¹ç­‰ä¾èµ–é¡¹ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

-   æ³¨æ„ï¼šwagmi ä¸å†å†…éƒ¨ä½¿ç”¨ `ethers` åŒ…ã€‚ æ³¨æ„ï¼šwagmi ä¸å†å†…éƒ¨ä½¿ç”¨ `ethers` åŒ…ã€‚ ä½†å¦‚æœä½ ä¾èµ– [Authentication](https://www.rainbowkit.com/docs/authentication) APIï¼Œ`siwe` ä»å°†éœ€è¦ `ethers` ä½œä¸ºå¯¹ç­‰ä¾èµ–ã€‚
-   åœ¨ä¾èµ– [ethers](https://docs.ethers.org/v5/) çš„æ—©æœŸ wagmi ç‰ˆæœ¬ä¸­ï¼ŒWalletConnect éœ€è¦çš„ `fs`ï¼Œ`net` å’Œ `tls` æ¨¡å—ä¼šè‡ªåŠ¨è¿›è¡Œ polyfillã€‚ è¿™åœ¨åŸºäº [viem](https://viem.sh/) æ„å»ºçš„ RainbowKit v1 + wagmi v1 ä¸­å·²ä¸å†æ˜¯è¿™æ ·ã€‚ åœ¨åŸºäº [viem](https://viem.sh/) çš„ RainbowKit v1 + wagmi v1 ä¸­ï¼Œæƒ…å†µä¸å†å¦‚æ­¤ã€‚

#### RainbowKit Changes

**1. Improved behavior for EIP-6963 wallets**

Wallets that support the new EIP-6963 connection standard (including Rainbow, MetaMask, and more) will now automatically appear in an `Installed` section during the Connect Wallet experience. This ensures that users can always find their favorite wallets and connect to dApps without conflicts or fallback buttons.

Developers continue to have full control over the Custom Wallet List to emphasize preferred wallets for end users. It is encouraged that you continue to include the `injectedWallet` and `walletConnectWallet` in your list to supports all platforms.

**2. Wagmi configuration with getDefaultConfig**

This new API simplifies the configuration experience and replaces the need to use Wagmi's `createConfig` directly. Chain configuration is simplified, including inferred public providers for `transports`.

The default wallet list will be automatically included, deprecating the need to use `getDefaultWallets` and `connectorsForWallets`.

You can create a Custom Wallet List by passing imported or Custom Wallet connectors to `wallets`. Instantiating wallet connectors and passing `projectId` and `chains` is no longer required.

```
const config = getDefaultConfig({
  appName: 'RainbowKit demo',
  projectId: 'YOUR_PROJECT_ID',
  chains: [mainnet],
  wallets: [rainbowWallet], /* optional custom wallet list */
  /* Wagmi createConfig options including `transports` are also accepted /*
})
```

\*\*3. RainbowKitProvider\*\*

You no longer need to pass `chains` to `<RainbowKitProvider>`.

```diff
- <RainbowKitProvider chains={chains}>
+ <RainbowKitProvider>
```

**4. Custom Chains**

The `Chain` type has changed in accordance with Wagmi v2, and continues to support RainbowKit's `iconUrl` and `iconBackground` metadata.

```diff
+ import { Chain } from '@rainbow-me/rainbowkit'

  const avalanche = {
    id: 43_114,
    name: 'Avalanche',
    iconUrl: 'https://s2.coinmarketcap.com/static/img/coins/64x64/5805.png',
    iconBackground: '#fff',
    nativeCurrency: { name: 'Avalanche', symbol: 'AVAX', decimals: 18 },
    rpcUrls: {
      default: { http: ['https://api.avax.network/ext/bc/C/rpc'] },
    },
    blockExplorers: {
      default: { name: 'SnowTrace', url: 'https://snowtrace.io' },
    },
    contracts: {
      multicall3: {
        address: '0xca11bde05977b3631167028862be2a173976ca11',
        blockCreated: 11_907_934,
      },
    },
  } as const satisfies Chain
```

Example with `getDefaultConfig`:

```diff
const config = getDefaultConfig({
+ chains: [
+   avalanche, /* custom chain */
+   {
+     ...mainnet,
+     iconBackground: '#000',
+     iconUrl: 'https://example.com/icons/ethereum.png',
+   }, /* metadata overides */
+ ],
});
```

Example with `createConfig`:

```diff
+ import { Chain } from '@rainbow-me/rainbowkit'
+ const chains: readonly [Chain, ...Chain[]] = [
+   {
+     ...mainnet,
+     iconBackground: '#000',
+     iconUrl: 'https://example.com/icons/ethereum.png',
+   },
+ ];
  const config = createConfig({
    chains,
    transports: {
      [mainnet.id]: http(),
    },
  })
```

**5ã€‚ Custom Wallets**

RainbowKitå·²é‡‡ç”¨`wagmi`ä¸­çš„`WalletConnectLegacyConnector`è¿æ¥å™¨ï¼Œä»¥ä¾¿ç»§ç»­æ”¯æŒWalletConnect v1. å°†å¾ˆå¿«æä¾›å¯¹WalletConnect v2å’Œ`WalletConnectConnector`çš„æ”¯æŒï¼Œä½œä¸ºè¡¥ä¸ç‰ˆæœ¬å‘å¸ƒï¼Œä¸ä¼šæœ‰ç ´åæ€§çš„æ›´æ”¹ã€‚

Wallet connectors also now support the EIP-6963 standard with the `rdns` prop. Ensure that this is populated to prevent duplicate references to EIP-6963 supporting wallets in your wallet list.

### **æ³¨æ„æ‰€æœ‰å†…ç½®é’±åŒ…éƒ½ä½¿ç”¨æ–°APIã€‚ å¤§éƒ¨åˆ†æ¶ˆè´¹è€…ä¸ä¼šå—å½±å“ã€‚ æ­¤ä¿®æ”¹åªå½±å“åˆ›å»º/ä½¿ç”¨è¿‡[è‡ªå®šä¹‰é’±åŒ…](/docs/custom-wallets)çš„æ¶ˆè´¹è€…ã€‚** å¤§éƒ¨åˆ†æ¶ˆè´¹è€…ä¸ä¼šå—å½±å“ã€‚ æ­¤ä¿®æ”¹åªå½±å“åˆ›å»º/ä½¿ç”¨è¿‡[è‡ªå®šä¹‰é’±åŒ…](/docs/custom-wallets)çš„æ¶ˆè´¹è€…ã€‚\*\*

#### æ›´æ–°åˆ° wagmi v1

wagmi çš„åŒçº§ä¾èµ–é¡¹å·²æ›´æ–°ä¸º `0.10.x`ã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

1.  å°†RainbowKitå’Œ`wagmi`å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
npm i @rainbow-me/rainbowkit@^1 wagmi@^1
```

**2. å®‰è£… `viem` å¯¹ç­‰ä¾èµ–é¡¹**

wagmi v1 éœ€è¦ `viem` å¯¹ç­‰ä¾èµ–é¡¹ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
npm i viem
```

æ³¨æ„ï¼šwagmi ä¸å†å†…éƒ¨ä½¿ç”¨ `ethers` åŒ…ã€‚ æ³¨æ„ï¼šwagmi ä¸å†å†…éƒ¨ä½¿ç”¨ `ethers` åŒ…ã€‚ ä½†å¦‚æœä½ ä¾èµ– [Authentication](https://www.rainbowkit.com/docs/authentication) APIï¼Œ`siwe` ä»å°†éœ€è¦ `ethers` ä½œä¸ºå¯¹ç­‰ä¾èµ–ã€‚

\*\*3. ç¡®ä¿æ†ç»‘å™¨å’Œ polyfill å…¼å®¹æ€§

åœ¨ä¾èµ– [ethers](https://docs.ethers.org/v5/) çš„æ—©æœŸ wagmi ç‰ˆæœ¬ä¸­ï¼ŒWalletConnect éœ€è¦çš„ `fs`ï¼Œ`net` å’Œ `tls` æ¨¡å—ä¼šè‡ªåŠ¨è¿›è¡Œ polyfillã€‚ è¿™åœ¨åŸºäº [viem](https://viem.sh/) æ„å»ºçš„ RainbowKit v1 + wagmi v1 ä¸­å·²ä¸å†æ˜¯è¿™æ ·ã€‚ åœ¨åŸºäº [viem](https://viem.sh/) çš„ RainbowKit v1 + wagmi v1 ä¸­ï¼Œæƒ…å†µä¸å†å¦‚æ­¤ã€‚

å‚è€ƒæˆ‘ä»¬çš„ [Next.js Webpack Config](https://github.com/rainbow-me/rainbowkit/blob/main/examples/with-next/next.config.js) å’Œ [Create React App polyfills](https://github.com/rainbow-me/rainbowkit/blob/main/examples/with-create-react-app/src/polyfills.ts) ç¤ºä¾‹ï¼Œä»¥è·å¾—ä½ çš„é¡¹ç›®é…ç½®æŒ‡å¯¼ã€‚

Viteå’ŒRemixçš„é™„åŠ æ¡†æ¶æŒ‡å—å¯åœ¨æ­¤å¤„è·å– [here](https://www.rainbowkit.com/docs/installation#additional-build-tooling-setup).

2.  æ£€æŸ¥`wagmi`ä¸­çš„ç ´åæ€§æ›´æ”¹

å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`wagmi`é’©å­ï¼Œæ‚¨å°†éœ€è¦æŒ‰ç…§`wagmi`çš„è¿ç§»æŒ‡å—è¿›è¡Œå‡çº§åˆ°v1.

[ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ä»–ä»¬çš„è¿ç§»æŒ‡å—](https://wagmi.sh/react/migration-guide#09x-breaking-changes)ã€‚

### 0.8.x ç‰ˆæœ¬ç ´åæ€§æ›´æ”¹

wagmiçš„åŒçº§ä¾èµ–æ€§å·²æ›´æ–°è‡³`0.8.x`ã€‚

RainbowKitå·²é‡‡ç”¨`wagmi`ä¸­çš„`WalletConnectLegacyConnector`è¿æ¥å™¨ï¼Œä»¥ä¾¿ç»§ç»­æ”¯æŒWalletConnect v1. å°†å¾ˆå¿«æä¾›å¯¹WalletConnect v2å’Œ`WalletConnectConnector`çš„æ”¯æŒï¼Œä½œä¸ºè¡¥ä¸ç‰ˆæœ¬å‘å¸ƒï¼Œä¸ä¼šæœ‰ç ´åæ€§çš„æ›´æ”¹ã€‚

æœªæ¥çš„ç‰ˆæœ¬å°†è‡ªåŠ¨è¿‡æ¸¡é’±åŒ…ã€‚

æ¯ä¸ªdAppç°åœ¨å¿…é¡»æä¾›ä¸€ä¸ª [WalletConnect Cloud](https://cloud.walletconnect.com/) `projectId`ä»¥å¯ç”¨WalletConnect v2ã€‚ è¿™å¿…é¡»åœ¨2023å¹´6æœˆ28æ—¥å…³é—­WalletConnect v1æ¡¥æ¥æœåŠ¡å™¨ä¹‹å‰å®Œæˆã€‚ æ¯ä¸ªdAppç°åœ¨å¿…é¡»æä¾›ä¸€ä¸ª [WalletConnect Cloud](https://cloud.walletconnect.com/) `projectId`ä»¥å¯ç”¨WalletConnect v2ã€‚ è¿™å¿…é¡»åœ¨2023å¹´6æœˆ28æ—¥å…³é—­WalletConnect v1æ¡¥æ¥æœåŠ¡å™¨ä¹‹å‰å®Œæˆã€‚ å¦‚æœ`projectId`æœªæŒ‡å®šï¼ŒRainbowKitå°†å®‰é™åœ°é¦–é€‰æ‰€æœ‰é’±åŒ…çš„v1ã€‚ è¿™å¿…é¡»åœ¨2023å¹´6æœˆ28æ—¥å…³é—­WalletConnect v1æ¡¥æ¥æœåŠ¡å™¨ä¹‹å‰å®Œæˆã€‚ æ¯ä¸ªdAppç°åœ¨å¿…é¡»æä¾›ä¸€ä¸ª [WalletConnect Cloud](https://cloud.walletconnect.com/) `projectId`ä»¥å¯ç”¨WalletConnect v2ã€‚ è¿™å¿…é¡»åœ¨2023å¹´6æœˆ28æ—¥å…³é—­WalletConnect v1æ¡¥æ¥æœåŠ¡å™¨ä¹‹å‰å®Œæˆã€‚ å¦‚æœ`projectId`æœªæŒ‡å®šï¼ŒRainbowKitå°†å®‰é™åœ°é¦–é€‰æ‰€æœ‰é’±åŒ…çš„v1ã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

#### 1.  å°†RainbowKitå’Œ`wagmi`å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
npm i @rainbow-me/rainbowkit@^0.12.0 wagmi@^0.12.0
```

#### 2.  æä¾›WalletConnect Cloud projectId

ç°åœ¨ä¾èµ–äºWalletConnectçš„æ¯ä¸ªdAppéƒ½éœ€è¦ä»[WalletConnect Cloud](https://cloud.walletconnect.com/)è·å–`projectId`ã€‚ è¿™å®Œå…¨å…è´¹ï¼Œåªéœ€è¦å‡ åˆ†é’Ÿã€‚ è¿™å®Œå…¨å…è´¹ï¼Œåªéœ€è¦å‡ åˆ†é’Ÿã€‚ è¿™å®Œå…¨å…è´¹ï¼Œåªéœ€è¦å‡ åˆ†é’Ÿã€‚

å°† `projectId` æä¾›ç»™ `getDefaultWallets` å’Œç‹¬ç«‹çš„ RainbowKit é’±åŒ…è¿æ¥å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```ts
const projectId = 'YOUR_PROJECT_ID';

const { wallets } = getDefaultWallets({
  appName: 'My RainbowKit App',
  projectId,
  chains,
});

const connectors = connectorsForWallets([
  ...wallets,
  {
    groupName: 'Other',
    wallets: [
      argentWallet({ projectId, chains }),
      trustWallet({ projectId, chains }),
      ledgerWallet({ projectId, chains }),
    ],
  },
]);
```

### 0.11.x ç‰ˆæœ¬çš„é‡å¤§å˜åŠ¨

wagmi çš„åŒçº§ä¾èµ–é¡¹å·²æ›´æ–°ä¸º `0.11.x`ã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

#### 1.  å°†RainbowKitå’Œ`wagmi`å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
npm i @rainbow-me/rainbowkit@^0.11.0 wagmi@^0.11.0
```

#### 2.  æ£€æŸ¥`wagmi`ä¸­çš„ç ´åæ€§æ›´æ”¹

å¦‚æœä½ åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ `wagmi` é’©å­ï¼Œä½ éœ€è¦æŸ¥çœ‹ä½ çš„åº”ç”¨ç¨‹åºæ˜¯å¦å—åˆ° `wagmi` ä¸­çš„é‡å¤§å˜åŠ¨çš„å½±å“ã€‚

[ä½ å¯ä»¥åœ¨æ­¤æŸ¥çœ‹ä»–ä»¬çš„è¿ç§»æŒ‡å—](https://wagmi.sh/react/migration-guide#011x-breaking-changes)ã€‚

### 0.10.x ç‰ˆæœ¬çš„é‡å¤§å˜åŠ¨

[wagmi](https://wagmi.sh) ä¸­ç»§èµ–é¡¹å·²æ›´æ–°åˆ° `1.x.x`ã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

#### 1.  å°†RainbowKitå’Œ`wagmi`å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
npm i @rainbow-me/rainbowkit@^0.10.0 wagmi@^0.10.0
```

#### 2.  æ£€æŸ¥`wagmi`ä¸­çš„ç ´åæ€§å˜åŒ–

å¦‚æœä½ åœ¨åº”ç”¨ä¸­ä½¿ç”¨äº†`wagmi`çš„é’©å­ï¼Œä½ éœ€è¦æ£€æŸ¥ä½ çš„åº”ç”¨æ˜¯å¦å—åˆ°äº†`wagmi`ç ´åæ€§æ›´æ”¹çš„å½±å“ã€‚

[æ‚¨å¯ä»¥åœ¨æ­¤å¤„æŸ¥çœ‹ä»–ä»¬çš„è¿ç§»æŒ‡å—](https://wagmi.sh/react/migration-guide#010x-breaking-changes)ã€‚

### 0.9.xç ´åæ€§å˜åŒ–

wagmiçš„å¯¹ç­‰ä¾èµ–å·²æ›´æ–°ä¸º`0.9.x`ã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

#### 1.  å‡çº§ä¾èµ–é¡¹

```bash
npm i @rainbow-me/rainbowkit@^0.9.0 wagmi@^0.9.0
```

#### 4.  é‡å‘½å wagmi çš„æä¾›è€…

å¦‚æœä½ åœ¨åº”ç”¨ä¸­ä½¿ç”¨äº†`wagmi`çš„é’©å­ï¼Œä½ éœ€è¦æ£€æŸ¥ä½ çš„åº”ç”¨æ˜¯å¦å—åˆ°äº†`wagmi`ç ´åæ€§æ›´æ”¹çš„å½±å“ã€‚

[æ‚¨å¯ä»¥åœ¨æ­¤å¤„æŸ¥çœ‹ä»–ä»¬çš„è¿ç§»æŒ‡å—](https://wagmi.sh/react/migration-guide).

### 0.12.xç‰ˆçš„é‡å¤§æ›´æ”¹

wagmiçš„åŒçº§ä¾èµ–é¡¹å·²æ›´æ–°ä¸º`0.12.x`.

æŒ‰ä»¥ä¸‹æ­¥éª¤è¿ç§»ã€‚

#### 1.  å‡çº§ä¾èµ–é¡¹

```bash
npm i @rainbow-me/rainbowkit@^0.8.0 wagmi@^0.8.0
```

#### 4.  é‡å‘½å wagmi çš„æä¾›è€…

å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`wagmi`é’©å­ï¼Œæ‚¨éœ€è¦æ£€æŸ¥æ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯å¦å—åˆ°äº†`wagmi`çš„ç ´åæ€§å˜åŒ–çš„å½±å“ã€‚

[æ‚¨å¯ä»¥åœ¨æ­¤å¤„æŸ¥çœ‹ä»–ä»¬çš„è¿ç§»æŒ‡å—](https://wagmi.sh/react/migration-guide#08x-breaking-changes).

### 0.7.x ç‰ˆæœ¬ä¸­çš„ç ´åæ€§å˜åŒ–

å¦‚æœæ‚¨æ­£åœ¨åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„é’±åŒ…åˆ—è¡¨ï¼Œé‚£ä¹ˆç°åœ¨æ‚¨å¿…é¡»å•ç‹¬å¯¼å…¥æ¯ä¸€ä¸ªé’±åŒ…ï¼Œä»¥å‡å°‘åŒ…çš„å¤§å°ã€‚ è¯·æ³¨æ„ï¼Œç”±äºé’±åŒ…ä¸å†é€šè¿‡ `wallet` å¯¹è±¡è¿›è¡Œå‘½åç©ºé—´å‘½åï¼Œæ‰€æœ‰çš„é’±åŒ…ç°åœ¨éƒ½æœ‰ä¸€ä¸ª `Wallet` åç¼€ã€‚ è¯·æ³¨æ„ï¼Œç”±äºé’±åŒ…ä¸å†é€šè¿‡ `wallet` å¯¹è±¡è¿›è¡Œå‘½åç©ºé—´å‘½åï¼Œæ‰€æœ‰çš„é’±åŒ…ç°åœ¨éƒ½æœ‰ä¸€ä¸ª `Wallet` åç¼€ã€‚ è¯·æ³¨æ„ï¼Œç”±äºé’±åŒ…ä¸å†é€šè¿‡ `wallet` å¯¹è±¡è¿›è¡Œå‘½åç©ºé—´å‘½åï¼Œæ‰€æœ‰çš„é’±åŒ…ç°åœ¨éƒ½æœ‰ä¸€ä¸ª `Wallet` åç¼€ã€‚

```diff
-import { connectorsForWallets, wallet } from '@rainbow-me/rainbowkit';
+import { connectorsForWallets } from '@rainbow-me/rainbowkit';
+import {
+  injectedWallet,
+  rainbowWallet,
+  metaMaskWallet,
+  coinbaseWallet,
+  walletConnectWallet,
+} from '@rainbow-me/rainbowkit/wallets';

const wallets = [
-  wallet.injected({ chains }),
-  wallet.rainbow({ chains }),
-  wallet.metaMask({ chains }),
-  wallet.coinbase({ chains, appName: 'My App' }),
-  wallet.walletConnect({ chains }),
+  injectedWallet({ chains }),
+  rainbowWallet({ chains }),
+  metaMaskWallet({ chains }),
+  coinbaseWallet({ chains, appName: 'My App' }),
+  walletConnectWallet({ chains }),
];
```

åŒæ ·è¯·æ³¨æ„ï¼ŒSteakwallet çš„å‘åå…¼å®¹å±‚å·²è¢«ç§»é™¤ã€‚ åº”è¯¥ä½¿ç”¨ Omni ä»£æ›¿ã€‚ åº”è¯¥ä½¿ç”¨ Omni ä»£æ›¿ã€‚

```diff
-import { wallet } from '@rainbow-me/rainbowkit';
+import { omniWallet } from '@rainbow-me/rainbowkit/wallets';

const wallets = [
-  wallet.steak({ chains }),
+  omniWallet({ chains }),
];
```

### 0.4.x ç‰ˆæœ¬ä¸­çš„ç ´åæ€§å˜åŒ–

RainbowKit å·²å°† `wagmi` å¯¹ç­‰ä¾èµ–é¡¹æ›´æ–°åˆ° `0.5.x`ã€‚

æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

#### 1.  å‡çº§ä¾èµ–é¡¹

å°†RainbowKitå’Œwagmiå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
npm i @rainbow-me/rainbowkit@^0.4.0 wagmi@^0.5.0
```

#### 2.  2ã€‚ æ›¿æ¢configureChainså¯¼å…¥

å¦‚æœæ‚¨åœ¨åº”ç”¨ä¸­ä½¿ç”¨`wagmi`é’©å­ï¼Œæ‚¨éœ€è¦æ£€æŸ¥æ‚¨çš„åº”ç”¨æ˜¯å¦å—åˆ°`wagmi`ä¸­ç ´åæ€§æ›´æ”¹çš„å½±å“ã€‚

[æ‚¨å¯ä»¥åœ¨æ­¤å¤„æŸ¥çœ‹ä»–ä»¬çš„è¿ç§»æŒ‡å—](https://wagmi.sh/react/migration-guide#05x-breaking-changes)ã€‚

### 0.3.x ç ´åæ€§æ›´æ”¹

ä»`Wallet`ç±»å‹çš„`createConnector`ä¸­ç§»é™¤äº†`chainId`å‚æ•°ã€‚

**æ³¨æ„æ‰€æœ‰å†…ç½®é’±åŒ…éƒ½ä½¿ç”¨æ–°APIã€‚ å¤§éƒ¨åˆ†æ¶ˆè´¹è€…ä¸ä¼šå—å½±å“ã€‚ æ­¤ä¿®æ”¹åªå½±å“åˆ›å»º/ä½¿ç”¨è¿‡[è‡ªå®šä¹‰é’±åŒ…](/docs/custom-wallets)çš„æ¶ˆè´¹è€…ã€‚** å¤§éƒ¨åˆ†æ¶ˆè´¹è€…ä¸ä¼šå—å½±å“ã€‚ **æ³¨æ„æ‰€æœ‰å†…ç½®é’±åŒ…éƒ½ä½¿ç”¨æ–°APIã€‚ å¤§éƒ¨åˆ†æ¶ˆè´¹è€…ä¸ä¼šå—å½±å“ã€‚ æ­¤ä¿®æ”¹åªå½±å“åˆ›å»º/ä½¿ç”¨è¿‡[è‡ªå®šä¹‰é’±åŒ…](/docs/custom-wallets)çš„æ¶ˆè´¹è€…ã€‚** å¤§éƒ¨åˆ†æ¶ˆè´¹è€…ä¸ä¼šå—å½±å“ã€‚ æ­¤ä¿®æ”¹åªå½±å“åˆ›å»º/ä½¿ç”¨è¿‡[è‡ªå®šä¹‰é’±åŒ…](/docs/custom-wallets)çš„æ¶ˆè´¹è€…ã€‚\*\*

å¦‚æœä½ ä¹‹å‰åœ¨`createConnector`ä¸Šä»`chainId`æ´¾ç”Ÿå‡ºRPC URLsï¼Œç°åœ¨ä½ å¯ä»¥å»æ‰è¿™ä¸ªé€»è¾‘ï¼Œå› ä¸ºå½“ä¸`configureChains`ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ`wagmi`ç°åœ¨å†…éƒ¨å¤„ç†RPC URLsã€‚

```diff
import { connectorsForWallets, wallet, Chain, Wallet } from '@rainbow-me/rainbowkit';
import { chain, configureChains } from 'wagmi';
import { alchemyProvider } from 'wagmi/providers/alchemy';
import { publicProvider } from 'wagmi/providers/public';
import { WalletConnectConnector } from 'wagmi/connectors/walletConnect';

export interface MyWalletOptions {
  chains: Chain[];
}

-const chains = [chain.mainnet]
+const { chains } = configureChains(
+  [chain.mainnet],
+  [
+    alchemyProvider({ alchemyId: process.env.ALCHEMY_ID }),
+    publicProvider(),
+  ]
+);

export const rainbow = ({ chains }: MyWalletOptions): Wallet => ({
  ...
- createConnector: ({ chainId }) => {
+ createConnector: () => {
-   const rpc = chains.reduce(
-     (rpcUrlMap, chain) => ({
-       ...rpcUrlMap,
-       [chainId]: chain.rpcUrls.default,
-     }),
-     {}
-   );
    const connector = new WalletConnectConnector({
      chains,
      options: {
        qrcode: false,
-       rpc,
      },
    });
  }
  ...
}

const connectors = connectorsForWallets([
  {
    groupName: 'Recommended',
    wallets: [
      rainbow({ chains }),
    ],
  },
]);
```

### 0.2.xç ´åæ€§æ›´æ”¹

RainbowKitå·²å°†`wagmi`å¯¹ç­‰ä¾èµ–æ›´æ–°è‡³`^0.4`ã€‚

éµå¾ªä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

#### 1.  å‡çº§ä¾èµ–é¡¹

å‡çº§ RainbowKit å’Œ wagmi åˆ°ä»–ä»¬çš„æœ€æ–°ç‰ˆæœ¬

```bash
npm i @rainbow-me/rainbowkit@^0.2.0 wagmi@^0.4.2
```

#### 2.  2ã€‚ æ›¿æ¢configureChainså¯¼å…¥

ä»wagmiå¯¼å…¥`configureChains`è€Œä¸æ˜¯ä»RainbowKit:

```diff
- import { configureChains } from '@rainbow-me/rainbowkit';
+ import { configureChains } from 'wagmi';
```

#### 4.  é‡å‘½å wagmi çš„æä¾›è€…

RainbowKitä¸å†å¯¼å‡º`apiProvider` APIã€‚ å°†å…¶æ›¿æ¢ä¸ºæ‚¨ä»wagmié€‰æ‹©çš„æ‰€éœ€çš„æä¾›å•†ã€‚ å°†å…¶æ›¿æ¢ä¸ºæ‚¨ä»wagmié€‰æ‹©çš„æ‰€éœ€çš„æä¾›å•†ã€‚ å°†å…¶æ›¿æ¢ä¸ºæ‚¨ä»wagmié€‰æ‹©çš„æ‰€éœ€çš„æä¾›å•†ã€‚

```diff
- import { apiProvider } from '@rainbow-me/rainbowkit';
```

#### ç‚¼é‡‘æœ¯

ä» `wagmi/providers/alchemy` å¯¼å…¥ `alchemyProvider`ã€‚

```diff
+ import { alchemyProvider } from 'wagmi/providers/alchemy';

const { chains, provider } = configureChains(
  [chain.mainnet, chain.polygon, chain.optimism, chain.arbitrum],
- [apiProvider.alchemy(process.env.ALCHEMY_ID)]
+ [alchemyProvider({ alchemyId: process.env.ALCHEMY_ID })]
);
```

#### Infura

ä» `wagmi/providers/infura` å¯¼å…¥ `infuraProvider`ã€‚

```diff
+import { infuraProvider } from 'wagmi/providers/infura';

const { chains, provider } = configureChains(
  [chain.mainnet, chain.polygon, chain.optimism, chain.arbitrum],
- [apiProvider.infura(process.env.INFURA_ID)]
+ [infuraProvider({ infuraId: process.env.INFURA_ID })]
);
```

#### JSON RPC

ä» `wagmi/providers/jsonRpc` å¯¼å…¥ `jsonRpcProvider`ã€‚

```diff
+ import { jsonRpcProvider } from 'wagmi/providers/jsonRpc';

const { chains, provider } = configureChains(
  [chain.mainnet, chain.polygon],
  [
-   apiProvider.jsonRpc(chain => ({
-     rpcUrl: `https://${chain.id}.example.com`,
-   })),
+   jsonRpcProvider({
+     rpc: chain => ({
+       http: `https://${chain.id}.example.com`,
+     }),
+   }),
  ]
);
```

#### å…¬å…±æä¾›è€…

ä» `wagmi/providers/public` å¯¼å…¥ `publicProvider`ã€‚

```diff
+ import { publicProvider } from 'wagmi/providers/public';

const { chains, provider } = configureChains(
  [chain.mainnet, chain.polygon],
- [apiProvider.fallback()]
+ [publicProvider()]
);
```

#### 4.  é‡å‘½å wagmi çš„æä¾›è€…

å°† `WagmiProvider` é‡å‘½åä¸º `WagmiConfig`ã€‚

```diff
import {
- WagmiProvider
+ WagmiConfig
} from 'wagmi'

const App = () => {
  return (
-   <WagmiProvider client={wagmiClient}>...</WagmiProvider>
+   <WagmiConfig client={wagmiClient}>...</WagmiConfig>
  );
};
```

æ‚¨å·²ç»å®Œæˆäº†ï¼ ğŸŒˆ ğŸŒˆ ğŸŒˆ
